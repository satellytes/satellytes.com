#
# Continous deployment pipeline to deploy the master branch to github pages.
#
# Requirements:
# - GH_PERSONAL_ACCESS_TOKEN
#     add this env variable as secret to the project and set a personal access token as value
#     https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line
#

name: Continous Deplyoment

on:
  push:
    branches: master

env:
  CI: true

jobs:
  Deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@master
      - name: Install
        run: yarn
      - name: Build
        run: yarn build:gh-pages
      - name: Deploy to Github pages
        uses: alex-page/blazing-fast-gh-pages-deploy@v1.1.0
        with:
          repo-token: ${{ secrets.GH_PERSONAL_ACCESS_TOKEN }}
          site-directory: public
